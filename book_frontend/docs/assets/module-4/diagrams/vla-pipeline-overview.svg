<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600" role="img" aria-labelledby="vla-pipeline-title vla-pipeline-desc">
  <title id="vla-pipeline-title">VLA Pipeline Overview</title>
  <desc id="vla-pipeline-desc">Diagram showing the Vision-Language-Action pipeline flow from voice input through Whisper transcription, LLM planning, CLIP visual grounding, to robot action execution</desc>

  <!-- Styles -->
  <defs>
    <style>
      .box { fill: #E3F2FD; stroke: #1976D2; stroke-width: 2; }
      .box-vision { fill: #E8F5E9; stroke: #388E3C; stroke-width: 2; }
      .box-language { fill: #FFF3E0; stroke: #F57C00; stroke-width: 2; }
      .box-action { fill: #FCE4EC; stroke: #C2185B; stroke-width: 2; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #333; }
      .subtitle { font-family: Arial, sans-serif; font-size: 12px; fill: #666; }
      .label { font-family: Arial, sans-serif; font-size: 14px; fill: #333; }
      .arrow { stroke: #555; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .stage-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #1976D2; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#555" />
    </marker>
  </defs>

  <!-- Main Title -->
  <text x="400" y="30" text-anchor="middle" class="title">Vision-Language-Action (VLA) Pipeline</text>

  <!-- Stage 1: Voice Input -->
  <text x="50" y="70" class="stage-title">Stage 1: Voice Input</text>

  <rect x="50" y="80" width="150" height="60" class="box" rx="5"/>
  <text x="125" y="105" text-anchor="middle" class="label">ðŸŽ¤ User Voice</text>
  <text x="125" y="125" text-anchor="middle" class="subtitle">"Pick up red box"</text>

  <path d="M 125 140 L 125 180" class="arrow"/>

  <rect x="50" y="180" width="150" height="80" class="box" rx="5"/>
  <text x="125" y="205" text-anchor="middle" class="label">Whisper API/Local</text>
  <text x="125" y="225" text-anchor="middle" class="subtitle">Speech-to-Text</text>
  <text x="125" y="245" text-anchor="middle" class="subtitle">&lt;2s latency</text>

  <path d="M 125 260 L 125 300" class="arrow"/>

  <rect x="50" y="300" width="150" height="60" class="box" rx="5"/>
  <text x="125" y="325" text-anchor="middle" class="label">ROS 2 Topic</text>
  <text x="125" y="345" text-anchor="middle" class="subtitle">/voice_command</text>

  <!-- Arrow to Stage 2 -->
  <path d="M 200 330 L 250 330" class="arrow"/>

  <!-- Stage 2: Language Understanding -->
  <text x="260" y="70" class="stage-title">Stage 2: LLM Planning</text>

  <rect x="260" y="300" width="180" height="80" class="box-language" rx="5"/>
  <text x="350" y="325" text-anchor="middle" class="label">GPT-4 / Claude 3</text>
  <text x="350" y="345" text-anchor="middle" class="subtitle">Task Decomposition</text>
  <text x="350" y="365" text-anchor="middle" class="subtitle">â†’ [navigate, grasp]</text>

  <path d="M 350 300 L 350 260" class="arrow"/>

  <rect x="260" y="180" width="180" height="60" class="box-language" rx="5"/>
  <text x="350" y="205" text-anchor="middle" class="label">ROS 2 Topic</text>
  <text x="350" y="225" text-anchor="middle" class="subtitle">/action_plan</text>

  <!-- Arrow to Stage 3 -->
  <path d="M 440 210 L 490 210" class="arrow"/>

  <!-- Stage 3: Visual Grounding -->
  <text x="500" y="70" class="stage-title">Stage 3: Vision</text>

  <rect x="500" y="80" width="150" height="60" class="box-vision" rx="5"/>
  <text x="575" y="105" text-anchor="middle" class="label">ðŸ“· Camera</text>
  <text x="575" y="125" text-anchor="middle" class="subtitle">RGB + Depth</text>

  <path d="M 575 140 L 575 180" class="arrow"/>

  <rect x="500" y="180" width="150" height="80" class="box-vision" rx="5"/>
  <text x="575" y="205" text-anchor="middle" class="label">CLIP</text>
  <text x="575" y="225" text-anchor="middle" class="subtitle">Visual Grounding</text>
  <text x="575" y="245" text-anchor="middle" class="subtitle">Find "red box"</text>

  <path d="M 575 260 L 575 300" class="arrow"/>

  <rect x="500" y="300" width="150" height="60" class="box-vision" rx="5"/>
  <text x="575" y="325" text-anchor="middle" class="label">3D Pose</text>
  <text x="575" y="345" text-anchor="middle" class="subtitle">(x: 1.2, y: 0.5, z: 0.0)</text>

  <!-- Arrow to Stage 4 -->
  <path d="M 575 360 L 575 410" class="arrow"/>

  <!-- Stage 4: Action Execution -->
  <text x="300" y="430" class="stage-title">Stage 4: Action Execution</text>

  <rect x="450" y="440" width="200" height="120" class="box-action" rx="5"/>
  <text x="550" y="465" text-anchor="middle" class="label">VLA Orchestrator</text>
  <text x="550" y="490" text-anchor="middle" class="subtitle">1. Navigate â†’ object</text>
  <text x="550" y="510" text-anchor="middle" class="subtitle">2. Grasp object</text>
  <text x="550" y="530" text-anchor="middle" class="subtitle">3. Error recovery</text>
  <text x="550" y="550" text-anchor="middle" class="subtitle">âœ“ Task complete</text>

  <!-- Arrow back to user (circular) -->
  <path d="M 450 500 Q 200 500 200 360" class="arrow"/>
  <text x="280" y="480" class="subtitle">Success/Error</text>
  <text x="280" y="495" class="subtitle">Feedback</text>

  <!-- Legend -->
  <text x="50" y="590" class="stage-title">Pipeline Flow:</text>
  <text x="160" y="590" class="subtitle">Voice â†’ Whisper â†’ LLM â†’ CLIP â†’ Nav2/Gripper</text>

</svg>
